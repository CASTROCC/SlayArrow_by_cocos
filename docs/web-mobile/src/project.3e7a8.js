window.__require=function e(t,n,o){function i(s,c){if(!n[s]){if(!t[s]){var a=s.split("/");if(a=a[a.length-1],!t[a]){var u="function"==typeof __require&&__require;if(!c&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){return i(t[s][1][e]||e)},h,h.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({"A_star_1.0":[function(e,t,n){"use strict";cc._RF.push(t,"4438eeLCxZNhoVxcLOfdZsJ","A_star_1.0"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],"A_star_2.0":[function(e,t,n){"use strict";cc._RF.push(t,"2f26fO3FWVLt585f4IEWy7N","A_star_2.0"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("../Maze"),r=e("./BinaryHeap");(function(e){e[e.Four=0]="Four",e[e.Eight=1]="Eight"})(o=n.SeachType||(n.SeachType={}));var s=function(){return function(e,t){this.Gird=e,this.Const=t}}();n.Neighbour=s;var c=function(){function e(e,t){if(this._g=0,this._h=0,e instanceof cc.Vec2)return this._position=e,void(this._GirdType=t);console.error("postion must be cc.vec2")}return Object.defineProperty(e.prototype,"GirdType",{get:function(){return this._GirdType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(e){this._g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._last},set:function(e){this._last=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moveConst",{get:function(){return this._moveConst},set:function(e){this._moveConst=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this._g+this._h},enumerable:!0,configurable:!0}),e.prototype.equalTo=function(t){return t instanceof e&&this._position.equals(t.position)},e}();n.Gird=c;var a=function(){function e(){this.moveType=o.Four,this._open=new r.BinaryHeap(function(e){return e.f})}return e.ins=function(){return this._instance||(this._instance=new e),this._instance},Object.defineProperty(e.prototype,"MapVo",{set:function(e){if(e){this._mapVo=[],this._col=e.length,this._row=e[0].length;for(var t=0;t<e.length;t++){this._mapVo[t]=[];for(var n=e[t],o=0;o<n.length;o++){var i=new c(cc.v2(o,t),e[t][o]);this._mapVo[t].push(i)}}this._initNeighbours()}},enumerable:!0,configurable:!0}),e.prototype._initNeighbours=function(){for(var e=0;e<this._mapVo.length;e++)for(var t=this._mapVo[e],n=0;n<t.length;n++){var o=t[n];this._initNeighbour(o)}},e.prototype._initNeighbour=function(e){var t=Math.max(0,e.position.x-1),n=Math.max(0,e.position.y-1),r=Math.min(e.position.x+1,this._row-1),c=Math.min(e.position.y+1,this._col-1);if(e.neighbours=[],this.moveType===o.Eight)for(var a=n;a<=c;a++)for(var u=t;u<=r;u++){if(e.position.x!==u||e.position.y!==a)if((l=this._mapVo[a][u]).GirdType!==i.MapType.NotCorss){var h=this._constMove(e,l);e.neighbours.push(new s(l,h))}}else if(this.moveType===o.Four)for(a=n;a<=c;a++)for(u=t;u<=r;u++){var l;if(e.position.x!==u||e.position.y!==a)if(e.position.x==u||e.position.y==a)if((l=this._mapVo[a][u]).GirdType!==i.MapType.NotCorss){h=this._constMove(e,l);e.neighbours.push(new s(l,h))}}},e.prototype._constMove=function(e,t){return this.moveType==o.Eight&&e.position.x!==t.position.x&&e.position.y!=e.position.y?Math.SQRT1_2:1},e.prototype.moveToward=function(e,t){var n=Date.now();this._open.Clear(),this._close=[];for(var o=[],i=this._GetInitizalGird(e.x,e.y);i;){if(this._close.push(i),i.position.equals(t)){var r=i;do{o.unshift(r.position),r=r.parent}while(r);this._close=[],this._open.Clear();break}for(var s=i.neighbours,c=s.length-1;c>=0;--c){var a=s[c].Gird;if(-1===this._close.indexOf(a)){var u=s[c].Const;if(this._open.Contains(a))i.g+u<a.g&&(a.g=i.g+u);else{a.parent=i,a.g=i.g+u;var h=a.position.sub(t);a.h=Math.abs(h.x)+Math.abs(h.y),this._open.Insert(a)}}}i=this._open.Pop()}return console.log(Date.now()-n),o},e.prototype._GetInitizalGird=function(e,t){var n=this._mapVo[t][e];return n.g=n.h=0,n.parent=null,n},e}();n.default=a,cc._RF.pop()},{"../Maze":"Maze","./BinaryHeap":"BinaryHeap"}],Arrow_Demo:[function(e,t,n){"use strict";cc._RF.push(t,"abf5afFC2xOV7rXMSy210Pw","Arrow_Demo");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Core/Utils/SlayArrow"),s=e("../Core/Manager/G"),c=cc._decorator,a=c.ccclass,u=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touchNode=null,t.headSprite=null,t.tailSprite=null,t._startPos=cc.v2(0,0),t._up=!0,t}return o(t,e),t.prototype.onLoad=function(){s.default.TimerMgr.doNext(function(){console.log("timerManager Test.")},this)},t.prototype.start=function(){this._slayArraw=new r.default(this.headSprite,this.tailSprite),this.node.addChild(this._slayArraw),this._slayArraw.setActive(!1),this.touchNode.on(cc.Node.EventType.TOUCH_START,this.onStart,this)},t.prototype.onStart=function(e){this._slayArraw.setActive(!0),this._startPos=this.touchNode.convertToWorldSpaceAR(this._startPos),this._slayArraw.setArrowPos(this._startPos,e.getLocation()),this.touchNode.on(cc.Node.EventType.TOUCH_MOVE,this.onDrag,this),this.touchNode.on(cc.Node.EventType.TOUCH_END,this.onEnd,this),this.touchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onEnd,this)},t.prototype.onDrag=function(e){var t=e.getLocation();this._slayArraw.setArrowPos(this._startPos,t)},t.prototype.onEnd=function(e){this.touchNode.off(cc.Node.EventType.TOUCH_MOVE,this.onDrag,this),this.touchNode.off(cc.Node.EventType.TOUCH_END,this.onEnd,this),this.touchNode.off(cc.Node.EventType.TOUCH_CANCEL,this.onEnd,this),this._startPos=cc.v2(0,0),this._slayArraw.setActive(!1)},t.prototype.update=function(e){},i([u(cc.Node)],t.prototype,"touchNode",void 0),i([u(cc.Sprite)],t.prototype,"headSprite",void 0),i([u(cc.Sprite)],t.prototype,"tailSprite",void 0),t=i([a],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../Core/Manager/G":"G","../Core/Utils/SlayArrow":"SlayArrow"}],AudioUtils:[function(e,t,n){"use strict";cc._RF.push(t,"1a4a6pfkehNNoWyuaka41cm","AudioUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.stopAllPlayingAudio=function(){this._stopAllPlayingAudio()},e.playAudio=function(e,t,n){e&&this._playAudio(e,t,n)},e.stopAudio=function(e){void 0!==e&&this._stopAudio(e)},e._stopAllPlayingAudio=function(){for(var e,t=Object.keys(this._playingAudios);t.length;)(e=parseInt(t.shift()))&&!isNaN(e)&&this._stopAudio(e)},e._playAudio=function(e,t,n){var o=this;if(e){var i=cc.audioEngine.playEffect(e,!1);void 0===i&&(i=Math.random()+Date.now());var r=cc.audioEngine.getDuration(i),s=function(){var e=Object.keys(o._playingAudios),t=e.indexOf(i.toString());if(-1!=t){var n=o._playingAudios[i.toString()];n.userFunc&&n.thiz&&n.userFunc.call(n.thiz),o._playingAudios[e[t]]=null,delete o._playingAudios[e[t]]}},c=setTimeout(s.bind(this),r);return this._playingAudios[i.toString()]={baseFunc:s,userFunc:t,thiz:n,Tid:c},i}return null},e._stopAudio=function(e){var t=Object.keys(this._playingAudios),n=e.toString();if(-1!==t.indexOf(n)){cc.audioEngine.stopEffect(e);var o=this._playingAudios[n];null!=o&&clearTimeout(o.Tid),this._playingAudios[n]=null,delete this._playingAudios[n]}},e._playingAudios={},e}();n.default=o,cc._RF.pop()},{}],BinaryHeap:[function(e,t,n){"use strict";cc._RF.push(t,"ceaf4GDO69Ap5FqJ1qNKPjs","BinaryHeap"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){this._heap=[],this._getCompareFunc=e}return e.prototype._bubble=function(e){for(var t=e,n=t-1>>1;n>=0&&!(this._getCompareFunc(this._heap[n])<this._heap[t]);){var o=this._heap[t];this._heap[t]=this._heap[n],this._heap[n]=o,n=(t=n)-1>>1}},e.prototype._down=function(e,t){void 0===t&&(t=this.Size-1);for(var n=e,o=1+(n<<1);o<t&&(o<t&&this._getCompareFunc(this._heap[o])<this._getCompareFunc(this._heap[o+1])&&o++,!(this._getCompareFunc(this._heap[n])<this._getCompareFunc(this._heap[o])));){var i=this._heap[o];this._heap[o]=this._heap[n],this._heap[n]=i,o=1+((n=o)<<1)}},Object.defineProperty(e.prototype,"Size",{get:function(){return this._heap.length},enumerable:!0,configurable:!0}),e.prototype.Contains=function(e){return-1!==this._heap.indexOf(e)},e.prototype.Get=function(e){return this._heap[e]},e.prototype.Insert=function(e){this._heap.push(e),this._bubble(this.Size-1)},e.prototype.Pop=function(){var e=this._heap[0],t=this._heap.pop();return this.Size<=0?e:(this._heap[0]=t,this._down(0,this.Size-1),e)},e.prototype.Peek=function(){if(this.Size)return this._heap[0]},e.prototype.Remove=function(e){var t=this._heap.indexOf(e);return-1==t&&(this._heap[t]=this._heap.pop(),this._heap.length>0&&this._down(t,this.Size-1),!0)},e.prototype.Clear=function(){do{this._heap.shift()}while(this.Size>0)},e}();n.BinaryHeap=o,cc._RF.pop()},{}],DiviceUtils:[function(e,t,n){"use strict";cc._RF.push(t,"d0e1cDl71hGIqTRo0UVnS16","DiviceUtils");(function(){function e(){}e.fullWindow=function(){}})();cc._RF.pop()},{}],DragBoneUtils:[function(e,t,n){"use strict";cc._RF.push(t,"00d1f0YZT1LMJbA/tcI1mKq","DragBoneUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.playAnimateByName=function(e,t,n){void 0===n&&(n=1),e&&t&&e.playAnimation(t,n)},e.playHideEffect=function(e,t,n,o){e.node.active=!0,e.removeEventListener(dragonBones.EventObject.COMPLETE),e.addEventListener(dragonBones.EventObject.COMPLETE,function(){e.removeEventListener(dragonBones.EventObject.COMPLETE),e.node.active=!1,n&&o&&(console.log("fn is Used!"),n.call(o))},this),e.playAnimation(t,1)},e.palyArmatureByName=function(e,t,n,o,i){void 0===i&&(i=1),e.node.active=!0,e.removeEventListener(dragonBones.EventObject.COMPLETE),e.addEventListener(dragonBones.EventObject.COMPLETE,function(){e.removeEventListener(dragonBones.EventObject.COMPLETE),n&&o&&n.call(o)},this),e.playAnimation(t,i)},e.makeArmmatureGotoProcess=function(e,t,n){e.node.active||(e.node.active=!0),e.armature()||(e.armatureName=e.armatureName),e.armature().animation.gotoAndStopByProgress(t,n)},e}();n.default=o,cc._RF.pop()},{}],EffectUtils:[function(e,t,n){"use strict";cc._RF.push(t,"0da55rOPdVFiJ8GaKwOAa35","EffectUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameUtils"),i=function(){function e(){}return e.fadeToggleNode=function(e,t,n,o,i){void 0===n&&(n=1);var r=cc.fadeIn(n),s=cc.fadeOut(n);e.runAction(s);var c=cc.callFunc(function(){e.stopAction(s),e.active=!1,t.active=!0,o&&i&&o.call(i)},this);t.active=!0,t.opacity=0,t.runAction(cc.sequence(r,c))},e.onFrame=function(e){if(this._shakeCount>=this._maxCount){if(!this._node)return;this.stopShake()}else{var t=this._shakePos[this._shakeCount%this._shakePos.length],n=this._lastPos.add(t);this._node.position=n,this._shakeCount++}},e.shakeNode=function(e,t,n,o){void 0===o&&(o=3),this._isShaking||(this._isShaking=!0,this._maxCount=this._shakePos.length*o,this._callFunc=t,this._callTarget=n,this._lastPos=e.position,this._node=e,this.shakeFrameId=window.requestAnimationFrame(this.onFrame.bind(this)))},e.scaleNodeWidthByMaxNum=function(e,t,n,o,i,r){void 0===n&&(n=20),void 0===o&&(o="width"),this._isonScale||(this._scaleNode=e,this._scaleMaxWidth=t,this._lerpWidth=n,this._peroty=o,this._scaleFunc=i,this._scaleFuncthiz=r,this._isonScale=!0,this.scaleFrameId=window.requestAnimationFrame(this.onScaleWidth.bind(this)))},e.onScaleWidth=function(e){this._scaleNode[this._peroty]>=this._scaleMaxWidth&&this.stopScaleWidthByNum(),this._peroty&&this._scaleNode?this._scaleNode[this._peroty]+=this._scaleMaxWidth*e*1.5:this.stopScaleWidthByNum()},e.stopScaleWidthByNum=function(){this._isonScale=!1,this._scaleFunc&&this._scaleFuncthiz&&this._scaleFunc.call(this._scaleFuncthiz),this._scaleNode=null,this._scaleMaxWidth=null,this._lerpWidth=null,this._peroty=null,this._scaleFunc=null,this._scaleFuncthiz=null,window.cancelAnimationFrame(this.scaleFrameId)},e.stopShake=function(){this._isShaking&&(this._node.position=this._lastPos,window.cancelAnimationFrame(this.shakeFrameId),this._callFunc&&this._callTarget&&this._callFunc.call(this._callTarget),this._isShaking=!1,this._maxCount=0,this._shakeCount=0,this._callFunc=null,this._callTarget=null,this._lastPos=null,this._node=null)},e.onBlink=function(){if(this._totalRepeat>=this._blinkingCount){if(!this._blinkNode||!this._isBlinking)return;this.stopBlink()}else this._blinkFlag?(this._blinkNode.opacity+=this._disBlink,this._blinkNode.opacity>=255&&(this._totalRepeat++,this._blinkFlag=!1)):(this._blinkNode.opacity-=this._disBlink,this._blinkNode.opacity<=0&&(this._totalRepeat++,this._blinkFlag=!0))},e.stopBlink=function(){this._disBlink=0,this._totalRepeat=0,this._isBlinking=!1,this._blinkingCount=0,this._blinkFlag=!1,window.cancelAnimationFrame(this.blinkFrameId),this._blinkFunc&&this._blinkcallTarget&&(this._blinkNode.opacity=255,this._blinkFunc.call(this._blinkcallTarget),this._blinkFunc=null,this._blinkcallTarget=null,this._blinkNode=null)},e.blinkNodebyOpcity=function(e,t,n,o,i){void 0===n&&(n=null),void 0===o&&(o=3),void 0===i&&(i=25),e&&!this._isBlinking&&(this._blinkingCount=o,this._blinkNode=e,this._blinkFunc=t,this._blinkcallTarget=n,this._isBlinking=!0,this._disBlink=i,this._totalRepeat=0,window.requestAnimationFrame(this.onBlink.bind(this)))},e.cutShortWidthByEase=function(e,t,n,o){var i=cc.callFunc(function(){n&&o&&n.call(o)},this);setInterval(function(){});var r=cc.sequence(cc.scaleTo(t,0,1),i);e.runAction(r)},e.fadeNode=function(e,t,n,o,i){if(void 0===o&&(o=.5),void 0===i&&(i=!1),e){var r=255;i?(e.opacity=255,e.active=!0,r=0):(e.opacity=0,e.active=!0,r=255);var s=cc.callFunc(function(){t&&n&&t.call(n)},this),c=cc.sequence(cc.fadeTo(o,r),s);e.runAction(c)}else console.error("fadeNode error, not node")},e.swapeNodeIndex=function(e,t){if(e.getParent()==t.getParent()){var n=e.getParent().children,o=n.indexOf(e),i=n.indexOf(t);n[o]=t,n[i]=e}else console.error("\u4e24\u8282\u70b9\u4e0d\u5c5e\u4e8e\u540c\u4e00\u8282\u70b9.")},e.moveNodeToPos=function(e,t,n,o,i,r,s){void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=.2),void 0===r&&(r=!1),void 0===s&&(s=999);var c=e.zIndex;e.zIndex=s;var a=cc.callFunc(function(){e.zIndex=c,n&&o&&n.call(o)},o);if(r){var u=cc.scaleTo(.25,.2);e.runAction(u)}var h=cc.sequence(cc.moveTo(i,t),a);return e.runAction(h),h},e.scaleByEsca=function(e){if(e){e.scale=0;var t=cc.scaleTo(1,1.2);t.easing(cc.easeElasticInOut(1)),e.runAction(t)}},e.shakeMoveByRotate=function(e,t,n,o){if(e){this.shakeByRotate(e);var i=cc.moveTo(2.5,t),r=cc.callFunc(function(){n&&o&&n.call(o)},this),s=cc.sequence(i,r);e.runAction(s)}else cc.log("shakeByRotate is not node!")},e.shakeByRotate=function(e){if(e){var t=cc.rotateTo(.7,3),n=cc.rotateTo(.7,-3),o=cc.sequence(t,n).repeatForever();e.runAction(o)}else cc.log("shakeByRotate is not node!")},e.floorNode=function(e){if(e){var t=cc.v2(0,8),n=cc.v2(0,-5),o=e.position,i=cc.moveTo(.7,o.addSelf(t)),r=cc.moveTo(.7,o.addSelf(n)),s=cc.sequence(i,r).repeatForever();e.runAction(s)}else cc.log("shakeByRotate is not node!")},e.scaleWidth=function(e,t,n,o,i){if(void 0===o&&(o=1),void 0===i&&(i=.8),e){e.scaleX=0;var r=cc.scaleTo(i,o),s=cc.callFunc(function(){t.call(n)},this),c=cc.sequence([r,s]);e.runAction(c)}},e.showPanelByScale=function(e,t,n,o,i,r){if(void 0===o&&(o=2),void 0===i&&(i=.1),void 0===r&&(r=.2),e){e.scale=0,e.active||(e.active=!0);var s=cc.scaleTo(i,1.2),c=cc.scaleTo(r,1),a=cc.sequence(s,c).repeat(o),u=cc.callFunc(function(){t&&n&&t.call(n)}),h=cc.sequence(a,u);return e.runAction(h)}},e.scaleRepeatAction=function(e,t,n,o,i,r,s){if(void 0===o&&(o=2),void 0===i&&(i=.1),void 0===r&&(r=.2),void 0===s&&(s=.8),e){var c=e.scaleX,a=e.scaleY,u=c*s,h=s*a;e.active||(e.active=!0),1===o&&(e.scale=0);var l=cc.scaleTo(i,c,a),w=cc.scaleTo(r,u,h),p=cc.sequence(l,w).repeat(o),f=cc.callFunc(function(){e.scaleX=c,e.scaleY=a,t&&n&&t.call(n)}),_=cc.sequence(p,f);return e.runAction(_)}},e.blinkAction=function(e,t,n){if(e){e.opacity=255;var o=cc.blink(2,6),i=cc.callFunc(function(){t&&n&&t.call(n)},this),r=cc.sequence(o,i);return e.runAction(r)}},e.setGrayNode=function(e,t,n){void 0===n&&(n=!1);for(var i=o.default.getAllChildNode(e),r=0;r<i.length;r++){var s=i[r].getComponent(cc.Sprite);s&&s.setState(Number(t))}n&&(t?e.pauseSystemEvents(!0):e.resumeSystemEvents(!0))},e.reversalToggle=function(e,t,n,o,i,r){void 0===i&&(i=.2),void 0===r&&(r=.3);var s=e.getComponent(cc.Sprite);if(s){var c=cc.scaleTo(i,0,1),a=cc.callFunc(function(){s.spriteFrame=t.spriteFrame},this),u=cc.scaleTo(r,1,1),h=cc.callFunc(function(){n&&o&&n.call(o)},e);return e.runAction(cc.sequence([c,a,u,h]))}console.error("target is not find cc.Sprite.")},e.drawRectMask=function(e,t,n,o,i){if(void 0===t&&(t=-960),void 0===n&&(n=-540),void 0===o&&(o=1920),void 0===i&&(i=1080),e){var r=e.getComponent(cc.Graphics);r||e.addComponent(cc.Graphics),r.clear(),r.rect(t,n,o,i),r.fillColor=cc.color(0,0,0,120),r.fillRect()}else console.error("not Panel on drawRectMask.")},e._isShaking=!1,e._shakePos=[cc.v2(-4,0),cc.v2(4,0),cc.v2(-4,0)],e._maxCount=0,e._shakeCount=0,e.shakeFrameId=null,e._isonScale=!1,e.scaleFrameId=null,e._isBlinking=!1,e._blinkingCount=0,e._blinkNode=null,e._blinkcallTarget=null,e._blinkFlag=!1,e._disBlink=0,e._totalRepeat=0,e.blinkFrameId=null,e}();n.default=i,cc._RF.pop()},{"./GameUtils":"GameUtils"}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"4da7aMCJwhLzLLwPSAsDiKM","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Utils/GameUtils"),i=e("./TimerManager"),r=function(){function e(){}return e.prototype.dispose=function(){this.msgName=null,this.args=null},e}();n.Msg=r;var s=function(){function e(){this._MaxDealConst=500,this._eventsPool={},this._nextFrameEventsPool={},this._dealEvents=[],this._msgPool=[]}return e.ins=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.addEventListener=function(e,t,n){if(t&&n){var o={Func:t,thiz:n},i=this._getEventListener(e,this._eventsPool);i?i.push(o):(this._eventsPool[e]=[],this._eventsPool[e].push(o))}else console.error("args is Empty!")},e.prototype.once=function(e,t,n){},e.prototype.addNFrameEventListener=function(e,t,n){if(t&&n){var o={Func:t,thiz:n},i=this._getEventListener(e,this._nextFrameEventsPool);i?i.push(o):(this._nextFrameEventsPool[e]=[],this._nextFrameEventsPool[e].push(o))}else console.error("args is Empty!")},e.prototype.dispatchNFrameEventListener=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this._msgPool.pop()||new r;o.msgName=e,o.args=t,this._dealEvents.push(o),!this._dealMsg()&&this._dealEvents.length>0&&i.default.ins().doNext(this._dealMsg,this)},e.prototype.removeEventListener=function(e){var t=this._getEventListener(e,this._eventsPool);if(t){for(;t.length;)t.shift();t=null,delete this._eventsPool[e]}},e.prototype.dispatchEventListener=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0,i=this._getEventListener(e,this._eventsPool);o<i.length;o++){var r=i[o];r.Func&&r.thiz&&r.Func.apply(r.thiz,t)}},e.prototype.removeAllEventListener=function(){for(var e=0,t=Object.keys(this._eventsPool);e<t.length;e++){var n=t[e];this.removeEventListener(n)}},e.prototype._getEventListener=function(e,t){if(void 0===t&&(t=this._eventsPool),void 0==typeof e)return null;var n=t[e];return n?(n instanceof Array||(n=null,delete this._eventsPool[e]),n):null},e.prototype._dealMsg=function(){var e,t,n=this,i=o.default.GetTime(),r=function(){if(!(e=n._dealEvents.shift()))return!0;if(!(t=n._getEventListener(e.msgName,n._nextFrameEventsPool)))return!0;for(var s=0,c=t;s<c.length;s++){var a=c[s];a.Func&&a.thiz&&a.Func.apply(a.thiz,e.args)}return e.dispose(),n._msgPool.push(e),!(o.default.GetTime()-i>n._MaxDealConst)&&r()};return r()},e}();n.default=s,cc._RF.pop()},{"../Utils/GameUtils":"GameUtils","./TimerManager":"TimerManager"}],GameMap:[function(e,t,n){"use strict";cc._RF.push(t,"cc50c2Yzw9C/7uLggot2roa","GameMap");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Maze"),s=e("./Astar/A_star_2.0"),c=e("./GameObj/RoleMgr"),a=e("./Core/Utils/GameUtils"),u=cc._decorator,h=u.ccclass,l=u.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cross=null,t.roleMgr=null,t.notCross=null,t}return o(t,e),t.prototype.start=function(){var e=cc.winSize,t=Math.round(e.width/this.cross.width),n=Math.round(e.height/this.cross.height);t%2==0&&t--,n%2==0&&n--,this._maze=new r.Maze(t,n);for(var o,i=this._maze.maze,c=0;c<i.length;c++)for(var u=0;u<i[c].length;u++){var h=i[c][u];h===r.MapType.Cross||h===r.MapType.Start||h===r.MapType.End?(o=cc.instantiate(this.cross),r.MapType.Start===h&&(this.roleMgr.nowPos=cc.v2(u,c))):h===r.MapType.NotCorss&&(o=cc.instantiate(this.notCross)),o&&(o.parent=this.node,o.active=!0,o.position=a.default.TransGirdPosition(u,c,o.width,o.height))}this._aStar=s.default.ins(),this._aStar.MapVo=i},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouching,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouching,this)},t.prototype.onTouching=function(e){var t=Math.floor(e.getLocationX()/this.cross.width),n=Math.floor((this.node.height-e.getLocationY())/this.cross.height);if(this._maze.maze[n][t]!==r.MapType.NotCorss){console.log("finish =>",cc.v2(t,n));var o=this._aStar.moveToward(this.roleMgr.nowPos,cc.v2(t,n));0!==o.length?this.roleMgr.EnterState(c.RoleState.Move,o):cc.error("can't find road.")}else cc.error("can't find road.")},i([l(cc.Node)],t.prototype,"cross",void 0),i([l(c.default)],t.prototype,"roleMgr",void 0),i([l(cc.Node)],t.prototype,"notCross",void 0),t=i([h],t)}(cc.Component);n.default=w,cc._RF.pop()},{"./Astar/A_star_2.0":"A_star_2.0","./Core/Utils/GameUtils":"GameUtils","./GameObj/RoleMgr":"RoleMgr","./Maze":"Maze"}],GameUtils:[function(e,t,n){"use strict";cc._RF.push(t,"95d2bcYVStAcZmWaTttOtsi","GameUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getNodePos=function(e,t){var n=e.getParent().convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)},e.getAllChildNode=function(e){var t=[],n=function(e){if(t.push(e),e.childrenCount)for(var o=0;o<e.children.length;o++){var i=e.children[o];if(t.push(i),!i.childrenCount)return;n(i)}};return n(e),t},e.getSubstringComponent=function(e,t){return e.getParent().getComponentsInChildren(t)},e.GetTime=function(){return Date.now()},e.TransGirdPosition=function(e,t,n,o){return cc.v2(n*e+n/2,-(o*t+o/2))},e}();n.default=o,cc._RF.pop()},{}],G:[function(e,t,n){"use strict";cc._RF.push(t,"72aeakjcMdM8YG7qshSB2KS","G"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./EventManager"),i=e("../Utils/GustureUtils"),r=e("./TimerManager"),s=e("./ResourceManager"),c=function(){function e(){}return Object.defineProperty(e,"EventMgr",{get:function(){return this._EventMgr||(this._EventMgr=o.default.ins()),this._EventMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"GusterMgr",{get:function(){return this._GusterMgr||(this._GusterMgr=i.default.ins()),this._GusterMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TimerMgr",{get:function(){return this._TimerMgr||(this._TimerMgr=r.default.ins()),this._TimerMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ResMgr",{get:function(){return this._ResMgr||(this._ResMgr=s.default.ins()),this._ResMgr},enumerable:!0,configurable:!0}),e}();n.default=c,cc._RF.pop()},{"../Utils/GustureUtils":"GustureUtils","./EventManager":"EventManager","./ResourceManager":"ResourceManager","./TimerManager":"TimerManager"}],GustureComponent:[function(e,t,n){"use strict";cc._RF.push(t,"35435mkbwtDVYLYuwM92L3H","GustureComponent");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Core/Manager/G"),s=cc._decorator,c=s.ccclass,a=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resultTxt=null,t}return o(t,e),t.prototype.start=function(){this._gls=this.node.getChildByName("draw").getComponent(cc.Graphics)},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.ontouchStart,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.ontouchStart,this)},t.prototype.ontouchStart=function(e){this._gls.clear();var t=this.node.parent.convertToNodeSpaceAR(e.getLocation());this.draw(t.x,t.y);var n=e.getLocationInView();r.default.GusterMgr.addPoint(n.x,n.y),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.ontouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.ontouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.ontouchEnd,this)},t.prototype.ontouchEnd=function(e){this._gls.close(),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.ontouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.ontouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.ontouchEnd,this);var t=r.default.GusterMgr.checkGusture(!1);r.default.GusterMgr.removeAllPoints(),this.resultTxt.string="gusture is "+t.Name+","+t.Score.toFixed(2)+"(score) ,"+t.Time+"(coust)",t.Score>.85&&window.alert(t.Name)},t.prototype.ontouchMove=function(e){var t=this.node.parent.convertToNodeSpaceAR(e.getLocation());this.draw(t.x,t.y,this._last.x,this._last.y),r.default.GusterMgr.addPoint(t.x,t.y)},t.prototype.draw=function(e,t,n,o){void 0===n&&(n=e),void 0===o&&(o=t),this._gls.moveTo(n,o),this._gls.lineTo(e,t),this._last=cc.v2(e,t),this._gls.stroke(),this._gls.fill()},i([a(cc.Label)],t.prototype,"resultTxt",void 0),t=i([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../Core/Manager/G":"G"}],GustureUtils:[function(e,t,n){"use strict";cc._RF.push(t,"8ed96t8fmtG9b/1R0sdAnJo","GustureUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Gusturelib/gusture.js"),i=function(){function e(){this._testPoints=[]}return e.ins=function(){return this._ins||(this._ins=new e),this._ins},e.prototype.checkGusture=function(e){return o.Gus.Recognize(this._testPoints,e)},e.prototype.AddGesture=function(e,t){return!(!e||!t.length)&&o.Gus.AddGesture(e,t)},e.prototype.DeleteUserGestures=function(){o.Gus.DeleteUserGestures()},e.prototype.addPoint=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=new o.Point(e,t);this._testPoints.push(n)},e.prototype.removeAllPoints=function(){for(var e=this._testPoints.length-1;e>=0;--e){var t=this._testPoints[e];this._testPoints.splice(t,1)}},e.prototype.removePoint=function(e,t){if(isNaN(e)||isNaN(t))return!1;for(var n=this._testPoints.length-1;n>=0;--n){var o=this._testPoints[n];if(o.X===e&&o.Y===t)return this._testPoints.splice(n,1),!0}return!1},e.prototype.getPointsLength=function(){return this._testPoints.length},e}();n.default=i,cc._RF.pop()},{"../Gusturelib/gusture.js":"gusture"}],IEventManager:[function(e,t,n){"use strict";cc._RF.push(t,"171b6nvVIZGE4qsPRgp7Eq7","IEventManager"),cc._RF.pop()},{}],IResourceManager:[function(e,t,n){"use strict";cc._RF.push(t,"dfa5d+8fedMA4l5KXanhd+b","IResourceManager"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ITimerManager:[function(e,t,n){"use strict";cc._RF.push(t,"ced6avpvXtC7rMSLE1PrOwE","ITimerManager"),cc._RF.pop()},{}],KeyCode:[function(e,t,n){"use strict";cc._RF.push(t,"505f5vqs1BA8Yobs0qj4EYd","KeyCode"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.BackSpace=8]="BackSpace",e[e.Tab=9]="Tab",e[e.Clear=12]="Clear",e[e.Enter=13]="Enter",e[e.Shift_L=16]="Shift_L",e[e.Control_L=17]="Control_L",e[e.Alt_L=18]="Alt_L",e[e.Pause=19]="Pause",e[e.Caps_Lock=20]="Caps_Lock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.Page_Up=33]="Page_Up",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z"}(n.KeyCode||(n.KeyCode={})),cc._RF.pop()},{}],Launcher:[function(e,t,n){"use strict";cc._RF.push(t,"3e119nrnxRPHruFh/vvps4L","Launcher");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Core/Manager/G"),s=e("./Core/Manager/ResourceManager"),c=cc._decorator,a=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._Assets="Prefab/Guester",t}return o(t,e),t.prototype.start=function(){r.default.ResMgr.loadResByUrl(this._Assets,s.loadingType.None,this.complete.bind(this),this.progress.bind(this))},t.prototype.complete=function(e){this._core=cc.instantiate(e),this._core.setParent(this.node)},t.prototype.progress=function(e,t,n){console.log(e,t)},t=i([a],t)}(cc.Component));n.default=u,cc._RF.pop()},{"./Core/Manager/G":"G","./Core/Manager/ResourceManager":"ResourceManager"}],LogUtils:[function(e,t,n){"use strict";cc._RF.push(t,"87213Rs4TFHNIUQ2W5q/4CO","LogUtils");(function(){function e(){}e.Log=function(){}})();cc._RF.pop()},{}],MathUtils:[function(e,t,n){"use strict";cc._RF.push(t,"1510cScwuJN3pEVLd+Inuj7","MathUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.randomQueue=function(e){var t=Math.round(this.getSameRandom(this.seed,e.length-1,0));return e.splice(t,1)[0]},e.getPosition=function(e,t,n,o,i,r,s,c){var a=r+c%e*(o+t),u=-(s+Math.floor(c/e)*(i+n));return cc.v2(a,u)},e.getSameRandom=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=0),n+(9301*e+49297)%233280/233280*(t-n)},e.decimalsToFractional=function(e){var t=100,n=100*e.toFixed(2),o=function(){for(var e=t>n?t:n;e>1;e--)Number.isInteger(n/e)&&Number.isInteger(t/e)&&(n/=e,t/=e,o())};return o(),n+"/"+t},e.berzierRadio=function(e,t,n,o){var i=t.x,r=n.x,s=o.x,c=t.y,a=n.y,u=o.y,h=this.bezierAt(0,i,r,s,e),l=this.bezierAt(0,c,a,u,e);return cc.v2(h,l)},e.bezierAt=function(e,t,n,o,i){return Math.pow(1-i,3)*e+3*i*Math.pow(1-i,2)*t+3*Math.pow(i,2)*(1-i)*n+Math.pow(i,3)*o},e.removeSameNumByRowAndCol=function(e,t,n,o,i){for(var r=0;r<e.length;r++)for(var s=e[r],c=function(c){if(s[c]!==n){for(var a=[],u=[],h=0;h<t;h++){var l=h+c,w=r+h;l<s.length&&a.push({val:s[l],pos:cc.v2(l,r)}),w<e.length&&u.push({val:e[w][c],pos:cc.v2(c,w)})}var p=!a.some(function(e){return e.val!=a[0].val})&&a.length>=t,f=!u.some(function(e){return e.val!=u[0].val})&&u.length>=t;if(p)return o&&i&&o.call(i,a),{value:void 0};if(f)return o&&i&&o.call(i,u),{value:void 0}}},a=0;a<s.length;a++){var u=c(a);if("object"==typeof u)return u.value}o&&i&&o.call(i,null)},e.sortAsc=function(e,t){return e<t?-1:e>t?1:0},e.binSearch=function(t,n,o){if(void 0===o&&(o=null),!t||0==t.length)return 0;o||(o=e.sortAsc);for(var i=0,r=t.length-1;i<=r;){var s=r+i>>1;o(t[s],n)<=0?i=s+1:r=s-1}return i},e.resertNumberPosiv=function(e){return 1+~e},e.getDouble=function(e,t){return cc.v2(e%t,Math.floor(e/t))},e.getAngleByRadius=function(e){return 180*e/Math.PI},e.getRadiusByAngle=function(e){return e*Math.PI/180},e.getTotalNum=function(e){return e.length?e.reduce(function(e,t,n,o){return e+t}):0},e.LineIntersectRect=function(e,t,n){var o=function(e){return{leftDown:cc.v2(e.xMin,e.yMin),leftUp:cc.v2(e.xMin,e.yMax),RightUp:cc.v2(e.xMax,e.yMax),RigtDown:cc.v2(e.xMax,e.yMin)}}(n);return!!this.LineIntersectLine(e,t,o.leftDown,o.leftUp)||(!!this.LineIntersectLine(e,t,o.leftUp,o.RightUp)||(!!this.LineIntersectLine(e,t,o.RightUp,o.RigtDown)||!!this.LineIntersectLine(e,t,o.RigtDown,o.leftDown)))},e.LineIntersectLine=function(e,t,n,o){return this.QuickReject(e,t,n,o)&&this.Straddle(e,t,n,o)},e.QuickReject=function(e,t,n,o){var i=Math.max(e.x,t.x),r=Math.max(e.y,t.y),s=Math.min(e.x,t.x),c=Math.min(e.y,t.y),a=Math.max(n.x,o.x),u=Math.max(n.y,o.y),h=Math.min(n.x,o.x),l=Math.min(n.y,o.y);return!(i<h||r<l||a<s||u<c)},e.Straddle=function(e,t,n,o){var i=e.x,r=t.x,s=e.y,c=t.y,a=n.x,u=o.x,h=n.y,l=o.y;return!(((i-a)*(l-h)-(s-h)*(u-a))*((r-a)*(l-h)-(c-h)*(u-a))>0||((a-i)*(c-s)-(h-s)*(r-i))*((u-i)*(c-s)-(l-s)*(r-i))>0)},e.seed=0,e}();n.default=o,cc._RF.pop()},{}],Maze:[function(e,t,n){"use strict";var o;cc._RF.push(t,"f48e7eKqGBD05mIeoTKbPET","Maze"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.NotCorss=0]="NotCorss",e[e.Start=1]="Start",e[e.End=2]="End",e[e.Cross=3]="Cross"}(o=n.MapType||(n.MapType={}));var i=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}(),r=function(){function e(e,t){this._dir=[{x:0,y:1},{x:0,y:-1},{x:-1,y:0},{x:1,y:0}],e%2!=0&&t%2!=0?(this._mazeWidth=e,this._mazeHeight=t,this._startX=0,this._startY=1,this._endX=e-1,this._endY=t-2,this.init()):console.error("\u8ff7\u5bab\u5bbd\u9ad8\u5fc5\u987b\u4e3a\u5076\u6570.")}return e.prototype.init=function(){this._maze=[],this._visited=[];for(var e=0;e<this._mazeHeight;e++){for(var t=[],n=[],i=0;i<this._mazeWidth;i++){var r=void 0;r=i%2!=0&&e%2!=0?o.Cross:o.NotCorss,t[i]=r,n[i]=!1}this._maze.push(t),this._visited.push(n)}this._maze[this._startY][this._startX]=o.Start,this._maze[this._endY][this._endX]=o.End,this.createMaze(this._startX+1,this._startY)},e.prototype.createMaze=function(e,t){this._stack=[];var n=new i(e,t);for(this._stack.push(n),this._visited[n.y][n.x]=!0;this._stack.length;)for(var r=this.shiftElByRand(this._stack),s=0;s<4;s++){var c=r.x+2*this._dir[s].x,a=r.y+2*this._dir[s].y;this.isArea(c,a)&&!this._visited[a][c]&&(this._stack.push(new i(c,a)),this._visited[a][c]=!0,this._maze[r.y+this._dir[s].y][r.x+this._dir[s].x]=o.Cross)}},e.prototype.shiftElByRand=function(e){var t=Math.floor((e.length-1)*Math.random()),n=e[t];return e.splice(t,1),n},Object.defineProperty(e.prototype,"maze",{get:function(){return this._maze},enumerable:!0,configurable:!0}),e.prototype.isArea=function(e,t){return e>=0&&e<this._mazeWidth&&t>=0&&t<this._mazeHeight},e}();n.Maze=r,cc._RF.pop()},{}],ResourceManager:[function(e,t,n){"use strict";cc._RF.push(t,"e9e82QUP1pLr6eWUR1bM7Mn","ResourceManager"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("./G");(function(e){e[e.None=0]="None",e[e.Circle=2]="Circle",e[e.Panel=4]="Panel"})(o=n.loadingType||(n.loadingType={}));var r=function(){function e(){this._AssetsRef={},i.default.TimerMgr.doTimer(e.DealInterval,0,this._dealAssets,this)}return e.ins=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.loadResByUrl=function(e,t,n,i){void 0===t&&(t=o.None),e&&(i&&(this._progressHandler=i),n&&(this._completeHandler=n),this._loadUrl=e,this._loadingType=t,this._loadRes())},e.prototype.loadResByDir=function(e,t,n,i){void 0===t&&(t=o.None),e&&(i&&(this._progressHandler=i),n&&(this._completeHandler=n),this._loadUrl=e,this._loadingType=t,this._loadDir())},e.prototype.loadGroupRes=function(e,t,n,i){void 0===t&&(t=o.None),e.length&&(i&&(this._progressHandler=i),n&&(this._completeHandler=n),this._loadingType=t,this._loadGroup=this._loadGroup,this._loadingGroup())},e.prototype.destoryRes=function(e){var t=this;this._updateAssetRef(e,function(e){--t._AssetsRef[e]})},e.prototype._loadRes=function(){cc.loader.loadRes(this._loadUrl,this._progressFunc.bind(this),this._completeFunc.bind(this))},e.prototype._loadDir=function(){cc.loader.loadResDir(this._loadUrl,this._progressFunc.bind(this),this._completeFunc.bind(this))},e.prototype._loadingGroup=function(){cc.loader.loadResArray(this._loadGroup,this._progressFunc.bind(this),this._completeFunc.bind(this))},e.prototype._progressFunc=function(e,t,n){this._progressHandler&&this._progressHandler(e,t,n)},e.prototype._completeFunc=function(e,t){var n=this;e?console.error(e):(this._updateAssetRef(t,function(e){n._AssetsRef[e]?++n._AssetsRef[e]:n._AssetsRef[e]=1}),this._completeHandler&&this._completeHandler(t),this._progressHandler=this._completeHandler=null)},e.prototype._updateAssetRef=function(e,t){for(var n=0,o=cc.loader.getDependsRecursively(e);n<o.length;n++){t(o[n])}},e.prototype._dealAssets=function(){for(var e=0,t=Object.keys(this._AssetsRef);e<t.length;e++){var n=t[e];this._AssetsRef[n]<=0&&(cc.loader.release(n),this._AssetsRef[n]=null,delete this._AssetsRef[n])}},e.DealInterval=3e4,e}();n.default=r,cc._RF.pop()},{"./G":"G"}],RewriteEngine:[function(e,t,n){"use strict";cc._RF.push(t,"8e476ksfKFKeIKYWii6Oip/","RewriteEngine");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._updateGraphics=function(){var e=this.getComponent(cc.PolygonCollider),t=this._graphics;if(e&&this._type==cc.Mask.Type.ELLIPSE){for(var n=e.points,o=0;o<n.length;++o){var i=n[o];0===o?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)}t.close()}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},t=i([s],t)}(cc.Mask));n.selfMask=c,cc._RF.pop()},{}],RoleMgr:[function(e,t,n){"use strict";cc._RF.push(t,"28ce0stm05BBboB4aZpD2cg","RoleMgr");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r,s,c=e("../Core/Manager/G"),a=e("../Core/Manager/ResourceManager"),u=e("../Core/Utils/GameUtils"),h=cc._decorator,l=h.ccclass;h.property;(function(e){e.Idle="Idle",e.Move="Move"})(r=n.RoleState||(n.RoleState={})),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(s=n.Dir||(n.Dir={}));var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nowPos=cc.v2(0,1),t._roleMoveAssets={},t._roleSpeed=.3,t}return o(t,e),Object.defineProperty(t.prototype,"nowPos",{get:function(){return this._nowPos},set:function(e){this._nowPos=e,this.node.position=u.default.TransGirdPosition(this._nowPos.x,this._nowPos.y,this.node.width,this.node.height)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RoleState",{set:function(e){this._roleState!==e&&(this._roleState=e,this._ToggleState())},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this;c.default.ResMgr.loadResByDir("Animation/Role/",a.loadingType.None,function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o instanceof cc.Prefab){var i=cc.instantiate(o);e._roleMoveAssets[o.name]=i,i.parent=e.node,i.active=!1}}e.node.zIndex=999,e.RoleState=r.Idle})},t.prototype.EnterState=function(e,t){var n=this;if(this.RoleState=e,this._roleState===r.Move){this._nowPos=t.shift();var o=function(){var e=t.shift();if(e){n._UpdateRoleDir(t[0]);var i=u.default.TransGirdPosition(e.x,e.y,n.node.width,n.node.height),s=cc.moveTo(n._roleSpeed,i),c=cc.callFunc(function(){n.nowPos=e,o()},n);n.node.runAction(cc.sequence([s,c]))}else n.RoleState=r.Idle};this.node.stopAllActions(),this.nowPos=this.nowPos,o()}},t.prototype._UpdateRoleDir=function(e){var t;e&&(e.x-this._nowPos.x>0&&(t=s.Left),e.x-this._nowPos.x<0&&(t=s.Right),e.y-this._nowPos.y<0&&(t=s.Up),e.y-this._nowPos.y>0&&(t=s.Down),this.node.scale=1,t==s.Left||t==s.Right?t==s.Left?this.node.scaleX=1:this.node.scaleX=-1:t!=s.Up&&t!=s.Down||(t==s.Up?this.node.scaleY=1:this.node.scaleY=-1))},t.prototype._ToggleState=function(){for(var e in this._roleMoveAssets){if(this._roleMoveAssets.hasOwnProperty(e))this._roleMoveAssets[e].active=!1}this._role=this._roleMoveAssets[this._roleState],this._role.active=!0,this._role.getComponent(cc.Animation).play()},t=i([l],t)}(cc.Component);n.default=w,cc._RF.pop()},{"../Core/Manager/G":"G","../Core/Manager/ResourceManager":"ResourceManager","../Core/Utils/GameUtils":"GameUtils"}],SceneConfig:[function(e,t,n){"use strict";cc._RF.push(t,"0dd70Xa8TtPRLyhbF5J3aJL","SceneConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.SceneConfig=["Arrow_Demo","Gusture_Test","Type_Writer"],cc._RF.pop()},{}],SceneCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"f63a7vd3UhKraSvDMwt4ozt","SceneCtrl"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SceneConfig"),i=function(){function e(){this._currScene=0}return Object.defineProperty(e.prototype,"currScene",{set:function(e){void 0!==e&&"number"==typeof e&&o.SceneConfig.length},enumerable:!0,configurable:!0}),e.prototype.preScene=function(){this._currScene},e.prototype.nextScene=function(){this._currScene,o.SceneConfig.length},e}();n.SceneCtrl=i,cc._RF.pop()},{"./SceneConfig":"SceneConfig"}],SceneManager:[function(e,t,n){"use strict";cc._RF.push(t,"ef627hxXEtBd6nAyqnPa5IA","SceneManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._layers=[],this.Init()}return e.ins=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.Init=function(){this._sceneLayer=new cc.Node,this._uiLayer=new cc.Node,this._effectLayer=new cc.Node,this._panelLayer=new cc.Node},Object.defineProperty(e.prototype,"sceneLayer",{get:function(){return this._sceneLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uiLayer",{get:function(){return this._uiLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectLayer",{get:function(){return this._effectLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelLayer",{get:function(){return this._panelLayer},enumerable:!0,configurable:!0}),e}();n.default=o,cc._RF.pop()},{}],SlayArrow:[function(e,t,n){"use strict";cc._RF.push(t,"4e84aLuxiNDBJzGnQ5OD/Wn","SlayArrow");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(t,n){var o=e.call(this)||this;return o._linkNums=20,o._tailArrows=[],o._PI=3.1415,t&&n?(o.createArrows(t,n),o._headArrow.active=!1,o):(console.error("ctor SlayArrow error."),o)}return o(t,e),t.prototype.setArrowPos=function(e,t){var n=cc.v2(0,0),o=cc.v2(0,0);n.x=e.x+.1*(e.x-t.x),n.y=t.y-.2*(t.y-e.y),o.y=t.y+.1*(t.y-e.y),o.x=e.x-.2*(e.x-t.x);var i=function(e,t,n){return cc.v2(e*(1-n)*(1-n)*(1-n),t*(1-n)*(1-n)*(1-n))},r=function(e,t,n){return cc.v2(e*n*(1-n)*(1-n),t*n*(1-n)*(1-n))},s=function(e,t,n){return cc.v2(e*n*n*(1-n),t*n*n*(1-n))},c=function(e,t,n){return cc.v2(e*n*n*n,t*n*n*n)},a=t.sub(e),u=180*Math.atan2(a.x,a.y)/this._PI+270;u=u%360>180?270:90;var h=0,l=this._tailArrows[0];do{var w=h/(this._tailArrows.length-1),p=l,f=i(e.x,e.y,w),_=r(n.x,n.y,w).mulSelf(3),d=s(o.x,o.y,w).mulSelf(3),v=c(t.x,t.y,w),y=f.addSelf(_).addSelf(d).addSelf(v),g=this.convertToNodeSpaceAR(y);if(p.position=g,p.active=!0,0===h)l.angle=1+~u;else{var m=this._tailArrows[h],b=this._tailArrows[h-1],M=m.position.sub(b.position),P=Math.atan2(M.x,M.y);m.angle=1+~(180*P/this._PI+270)}h++,l=this._tailArrows[h]}while(l)},t.prototype.createArrows=function(e,t){this._headArrow=new cc.Node,this._headArrow.addComponent(cc.Sprite).spriteFrame=e.spriteFrame,this._headArrow.scale=1.5;for(var n=0;n<this._linkNums;n++){var o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=t.spriteFrame,o.scale=n/this._linkNums+.5,this._tailArrows.push(o),this.addChild(o)}this._tailArrows.push(this._headArrow),this.addChild(this._headArrow)},t.prototype.setActive=function(e){this.active=e},t}(cc.Node);n.default=i,cc._RF.pop()},{}],SystemUtils:[function(e,t,n){"use strict";cc._RF.push(t,"2025fr6yc1PCa65RQD9DaDW","SystemUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.isIos=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},e.delay=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},e.loadRes=function(e){return new Promise(function(t){cc.loader.load(e,function(e){t(e)})})},e.copyJosn=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.objectEquareValue=function(e,t){var n=!1;for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];if(n=i instanceof Object?this.eqalusObject(i,t):i instanceof Array?this.eqalusArray(i,t):i===t)return n}return n},e.copyArrayJosn=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],i={};for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r]);t.push(i)}return t},e.copyArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var o=e[n],i=[],r=0;r<o.length;r++){var s=o[r];i[r]=s}t[n]=i}return t},e.eqalusArray=function(e,t){if(e.length!=t.length)return!1;for(var n=!0,o=0;o<e.length;o++){var i=e[o];-1==t.indexOf(i)&&(n=!1)}return n},e.getNoteqalusByObjects=function(e,t){var n=[];for(var o in e)e[o]!==t[o]&&n.push(o);return n},e.eqalusObject=function(e,t){var n=Object.keys(e),o=Object.keys(t),i=this.eqalusArray(n,o);if(i)for(var r=0;r<n.length;r++){var s=n[r];e[s]!==t[s]&&(i=!1)}return i},e.JSONStringly=function(e){if("object"!=typeof e||!e)return"";var t;try{t=JSON.stringify(e)}catch(e){t=""}return t},e.JSONParse=function(e){if(!e)return null;var t;try{t=JSON.parse(e)}catch(e){t=null}return t},e}();n.default=o,cc._RF.pop()},{}],TimerManager:[function(e,t,n){"use strict";cc._RF.push(t,"0af55aiK4xCmaBcP5Hqpiji","TimerManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Utils/GameUtils"),i=e("../Utils/MathUtils"),r=function(){function e(){this.delay=0,this.forever=!1,this.repeatCount=0,this.exeTime=0}return e.prototype.clear=function(){this.method=null,this.methodObj=null,this.onFinish=null,this.finishObj=null,this.forever=!1},e}();n.TimerHandler=r;var s=function(){function e(){this._handlers=[],this.nexthandles=null,this._HandlerPool=[],this._currTime=0,this._currFrame=0,this._Timer=cc.director.getScheduler(),this._Timer.enableForTarget(this),this._Timer.schedule(this.update,this,-1)}return e.ins=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.getFrameId=function(){return this._currFrame},e.prototype.getCurrTime=function(){return this._currTime},e.binFunc=function(e,t){return e.exeTime>t.exeTime?-1:e.exeTime<t.exeTime?1:0},e.prototype._DeleteHandle=function(e){e.clear(),this._HandlerPool.push(e)},e.prototype.update=function(t){this._currFrame++,this._currTime=o.default.GetTime();var n=0,r=this.nexthandles;if(this.nexthandles=null,r&&r.length>0){for(var s=0,c=r;s<c.length;s++){var a=c[s];a.method.call(a.methodObj),this._DeleteHandle(a)}r=null}if(this._handlers.length<=0)return!1;for(var u=this._handlers[this._handlers.length-1];u.exeTime<=this._currTime;){this.currHandler=u=this._handlers.pop(),u.method.call(u.methodObj),n=o.default.GetTime(),u.exeTime=n+u.delay;var h=u.forever;if(h||(u.repeatCount>1?(u.repeatCount--,h=!0):u.onFinish&&u.onFinish.apply(u.finishObj)),h){var l=i.default.binSearch(this._handlers,u,e.binFunc);this._handlers.splice(l,0,u)}else this._DeleteHandle(u);if(n-this._currTime>5)break;if(this._handlers.length<=0)break;u=this._handlers[this._handlers.length-1]}return this.currHandler=null,!1},e.prototype.create=function(t,n,o,s,c,a,u){if(!(n<0||o<0||null==s)){var h=this._HandlerPool.pop()||new r;h.forever=0==o,h.repeatCount=o,h.delay=n,h.method=s,h.methodObj=c,h.onFinish=a,h.finishObj=u,h.exeTime=t+this._currTime;var l=i.default.binSearch(this._handlers,h,e.binFunc);this._handlers.splice(l,0,h)}},e.prototype.doTimer=function(e,t,n,o,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.create(e,e,t,n,o,i,r)},e.prototype.doTimerDelay=function(e,t,n,o,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null),this.create(e,t,n,o,i,r,s)},e.prototype.doNext=function(e,t){var n=this._HandlerPool.pop()||new r;n.method=e,n.methodObj=t,this.nexthandles||(this.nexthandles=[]),this.nexthandles.push(n)},e.prototype.remove=function(e,t){var n=this.currHandler;n&&n.method==e&&n.methodObj==t&&(n.forever=!1,n.repeatCount=0);for(var o=this._handlers.length-1;o>=0;o--){var i=this._handlers[o];i.method==e&&i.methodObj==t&&(this._handlers.splice(o,1),this._DeleteHandle(i))}},e.prototype.removeAll=function(e){var t=this.currHandler;t&&t.methodObj==e&&(t.forever=!1,t.repeatCount=0);for(var n=this._handlers.length-1;n>=0;n--){var o=this._handlers[n];o.methodObj==e&&(this._handlers.splice(n,1),this._DeleteHandle(o))}},e.prototype.isExists=function(e,t){for(var n=0,o=this._handlers;n<o.length;n++){var i=o[n];if(i.method==e&&i.methodObj==t)return!0}return!1},e}();n.default=s,cc._RF.pop()},{"../Utils/GameUtils":"GameUtils","../Utils/MathUtils":"MathUtils"}],TypeWriterComponent:[function(e,t,n){"use strict";cc._RF.push(t,"13709lqCaBPdpXXy3Fyo1Cc","TypeWriterComponent");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t._typeWrite="abcdefghijklstopqrstyzw. balabala....",t}return o(t,e),t.prototype.start=function(){this.label.string="",this._array=this._typeWrite.split("")},t.prototype.lateUpdate=function(){if(this._array.length){var e=this._array.shift();this.label.string+=e}},i([c(cc.Label)],t.prototype,"label",void 0),t=i([s],t)}(cc.Component);n.default=a,cc._RF.pop()},{}],Typewriter_Demo:[function(e,t,n){"use strict";cc._RF.push(t,"5980aicbqJBUL3+HbE0DXtM","Typewriter_Demo");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showlabel=null,t._isComplete=!1,t}return o(t,e),t.prototype.start=function(){this.setTypestr("\u563b\u563b\u54c8\u54c8\uff0c\u54fc\u54fc\u54c8\u563f\uff0c\u563b\u563b\u54c8\u54c8\uff0c\u54fc\u54fc\u54c8\u563f\u563b\u563b\u54c8\u54c8\uff0c\u54fc\u54fc\u54c8\u563f\u563b\u563b\u54c8\u54c8\uff0c\u54fc\u54fc\u54c8\u563f")},t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onlogic,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onlogic,this)},t.prototype.setTypestr=function(e,t){void 0===t&&(t=400);var n=e;this.node.anchorX=0,this.node.anchorY=1,this.node.width=t,n?(this._isComplete=!1,this._str=n.split(""),this.schedule(this.updatelabelStr,.1)):this._isComplete=!0},t.prototype.onlogic=function(){if(this._isComplete)this.node.active=!1;else{this.unschedule(this.updatelabelStr);var e=this._str.join("");this.showlabel.string+=e,this._isComplete=!0}},t.prototype.updatelabelStr=function(){if(this._str.length){var e=this._str.shift();this.showlabel.string+=e}else this.unschedule(this.updatelabelStr),this._isComplete=!0},i([c(cc.Label)],t.prototype,"showlabel",void 0),t=i([s],t)}(cc.Component);n.default=a,cc._RF.pop()},{}],gusture:[function(e,t,n){"use strict";function o(e,t){this.X=e,this.Y=t}function i(e,t,n,o){this.X=e,this.Y=t,this.Width=n,this.Height=o}function r(e,t){this.Name=e,this.Points=_(t,a);var n=d(this.Points);this.Points=v(this.Points,-n),this.Points=y(this.Points,u),this.Points=g(this.Points,h),this.Vector=m(this.Points)}function s(e,t,n){this.Name=e,this.Score=t,this.Time=n}cc._RF.push(t,"787a1Ve9lZFyJnO/Vwc1gep","gusture"),Object.defineProperty(n,"__esModule",{value:!0});var c=16,a=64,u=250,h=new o(0,0),l=.5*Math.sqrt(u*u+u*u),w=F(45),p=F(2),f=.5*(-1+Math.sqrt(5));function _(e,t){for(var n=O(e)/(t-1),i=0,r=new Array(e[0]),s=1;s<e.length;s++){var c=C(e[s-1],e[s]);if(i+c>=n){var a=e[s-1].X+(n-i)/c*(e[s].X-e[s-1].X),u=e[s-1].Y+(n-i)/c*(e[s].Y-e[s-1].Y),h=new o(a,u);r[r.length]=h,e.splice(s,0,h),i=0}else i+=c}return r.length==t-1&&(r[r.length]=new o(e[e.length-1].X,e[e.length-1].Y)),r}function d(e){var t=A(e);return Math.atan2(t.Y-e[0].Y,t.X-e[0].X)}function v(e,t){for(var n=A(e),i=Math.cos(t),r=Math.sin(t),s=new Array,c=0;c<e.length;c++){var a=(e[c].X-n.X)*i-(e[c].Y-n.Y)*r+n.X,u=(e[c].X-n.X)*r+(e[c].Y-n.Y)*i+n.Y;s[s.length]=new o(a,u)}return s}function y(e,t){for(var n=R(e),i=new Array,r=0;r<e.length;r++){var s=e[r].X*(t/n.Width),c=e[r].Y*(t/n.Height);i[i.length]=new o(s,c)}return i}function g(e,t){for(var n=A(e),i=new Array,r=0;r<e.length;r++){var s=e[r].X+t.X-n.X,c=e[r].Y+t.Y-n.Y;i[i.length]=new o(s,c)}return i}function m(e){for(var t=0,n=new Array,o=0;o<e.length;o++)n[n.length]=e[o].X,n[n.length]=e[o].Y,t+=e[o].X*e[o].X+e[o].Y*e[o].Y;var i=Math.sqrt(t);for(o=0;o<n.length;o++)n[o]/=i;return n}function b(e,t){for(var n=0,o=0,i=0;i<e.length;i+=2)n+=e[i]*t[i]+e[i+1]*t[i+1],o+=e[i]*t[i+1]-e[i+1]*t[i];var r=Math.atan(o/n);return Math.acos(n*Math.cos(r)+o*Math.sin(r))}function M(e,t,n,o,i){for(var r=f*n+(1-f)*o,s=P(e,t,r),c=(1-f)*n+f*o,a=P(e,t,c);Math.abs(o-n)>i;)s<a?(o=c,c=r,a=s,s=P(e,t,r=f*n+(1-f)*o)):(n=r,r=c,s=a,a=P(e,t,c=(1-f)*n+f*o));return Math.min(s,a)}function P(e,t,n){return T(v(e,n),t.Points)}function A(e){for(var t=0,n=0,i=0;i<e.length;i++)t+=e[i].X,n+=e[i].Y;return t/=e.length,n/=e.length,new o(t,n)}function R(e){for(var t=1/0,n=-1/0,o=1/0,r=-1/0,s=0;s<e.length;s++)t=Math.min(t,e[s].X),o=Math.min(o,e[s].Y),n=Math.max(n,e[s].X),r=Math.max(r,e[s].Y);return new i(t,o,n-t,r-o)}function T(e,t){for(var n=0,o=0;o<e.length;o++)n+=C(e[o],t[o]);return n/e.length}function O(e){for(var t=0,n=1;n<e.length;n++)t+=C(e[n-1],e[n]);return t}function C(e,t){var n=t.X-e.X,o=t.Y-e.Y;return Math.sqrt(n*n+o*o)}function F(e){return e*Math.PI/180}n.Gus=new function(){this.Unistrokes=new Array(c),this.Unistrokes[0]=new r("triangle",new Array(new o(137,139),new o(135,141),new o(133,144),new o(132,146),new o(130,149),new o(128,151),new o(126,155),new o(123,160),new o(120,166),new o(116,171),new o(112,177),new o(107,183),new o(102,188),new o(100,191),new o(95,195),new o(90,199),new o(86,203),new o(82,206),new o(80,209),new o(75,213),new o(73,213),new o(70,216),new o(67,219),new o(64,221),new o(61,223),new o(60,225),new o(62,226),new o(65,225),new o(67,226),new o(74,226),new o(77,227),new o(85,229),new o(91,230),new o(99,231),new o(108,232),new o(116,233),new o(125,233),new o(134,234),new o(145,233),new o(153,232),new o(160,233),new o(170,234),new o(177,235),new o(179,236),new o(186,237),new o(193,238),new o(198,239),new o(200,237),new o(202,239),new o(204,238),new o(206,234),new o(205,230),new o(202,222),new o(197,216),new o(192,207),new o(186,198),new o(179,189),new o(174,183),new o(170,178),new o(164,171),new o(161,168),new o(154,160),new o(148,155),new o(143,150),new o(138,148),new o(136,148))),this.Unistrokes[1]=new r("x",new Array(new o(87,142),new o(89,145),new o(91,148),new o(93,151),new o(96,155),new o(98,157),new o(100,160),new o(102,162),new o(106,167),new o(108,169),new o(110,171),new o(115,177),new o(119,183),new o(123,189),new o(127,193),new o(129,196),new o(133,200),new o(137,206),new o(140,209),new o(143,212),new o(146,215),new o(151,220),new o(153,222),new o(155,223),new o(157,225),new o(158,223),new o(157,218),new o(155,211),new o(154,208),new o(152,200),new o(150,189),new o(148,179),new o(147,170),new o(147,158),new o(147,148),new o(147,141),new o(147,136),new o(144,135),new o(142,137),new o(140,139),new o(135,145),new o(131,152),new o(124,163),new o(116,177),new o(108,191),new o(100,206),new o(94,217),new o(91,222),new o(89,225),new o(87,226),new o(87,224))),this.Unistrokes[2]=new r("rectangle",new Array(new o(78,149),new o(78,153),new o(78,157),new o(78,160),new o(79,162),new o(79,164),new o(79,167),new o(79,169),new o(79,173),new o(79,178),new o(79,183),new o(80,189),new o(80,193),new o(80,198),new o(80,202),new o(81,208),new o(81,210),new o(81,216),new o(82,222),new o(82,224),new o(82,227),new o(83,229),new o(83,231),new o(85,230),new o(88,232),new o(90,233),new o(92,232),new o(94,233),new o(99,232),new o(102,233),new o(106,233),new o(109,234),new o(117,235),new o(123,236),new o(126,236),new o(135,237),new o(142,238),new o(145,238),new o(152,238),new o(154,239),new o(165,238),new o(174,237),new o(179,236),new o(186,235),new o(191,235),new o(195,233),new o(197,233),new o(200,233),new o(201,235),new o(201,233),new o(199,231),new o(198,226),new o(198,220),new o(196,207),new o(195,195),new o(195,181),new o(195,173),new o(195,163),new o(194,155),new o(192,145),new o(192,143),new o(192,138),new o(191,135),new o(191,133),new o(191,130),new o(190,128),new o(188,129),new o(186,129),new o(181,132),new o(173,131),new o(162,131),new o(151,132),new o(149,132),new o(138,132),new o(136,132),new o(122,131),new o(120,131),new o(109,130),new o(107,130),new o(90,132),new o(81,133),new o(76,133))),this.Unistrokes[3]=new r("circle",new Array(new o(127,141),new o(124,140),new o(120,139),new o(118,139),new o(116,139),new o(111,140),new o(109,141),new o(104,144),new o(100,147),new o(96,152),new o(93,157),new o(90,163),new o(87,169),new o(85,175),new o(83,181),new o(82,190),new o(82,195),new o(83,200),new o(84,205),new o(88,213),new o(91,216),new o(96,219),new o(103,222),new o(108,224),new o(111,224),new o(120,224),new o(133,223),new o(142,222),new o(152,218),new o(160,214),new o(167,210),new o(173,204),new o(178,198),new o(179,196),new o(182,188),new o(182,177),new o(178,167),new o(170,150),new o(163,138),new o(152,130),new o(143,129),new o(140,131),new o(129,136),new o(126,139))),this.Unistrokes[4]=new r("check",new Array(new o(91,185),new o(93,185),new o(95,185),new o(97,185),new o(100,188),new o(102,189),new o(104,190),new o(106,193),new o(108,195),new o(110,198),new o(112,201),new o(114,204),new o(115,207),new o(117,210),new o(118,212),new o(120,214),new o(121,217),new o(122,219),new o(123,222),new o(124,224),new o(126,226),new o(127,229),new o(129,231),new o(130,233),new o(129,231),new o(129,228),new o(129,226),new o(129,224),new o(129,221),new o(129,218),new o(129,212),new o(129,208),new o(130,198),new o(132,189),new o(134,182),new o(137,173),new o(143,164),new o(147,157),new o(151,151),new o(155,144),new o(161,137),new o(165,131),new o(171,122),new o(174,118),new o(176,114),new o(177,112),new o(177,114),new o(175,116),new o(173,118))),this.Unistrokes[5]=new r("caret",new Array(new o(79,245),new o(79,242),new o(79,239),new o(80,237),new o(80,234),new o(81,232),new o(82,230),new o(84,224),new o(86,220),new o(86,218),new o(87,216),new o(88,213),new o(90,207),new o(91,202),new o(92,200),new o(93,194),new o(94,192),new o(96,189),new o(97,186),new o(100,179),new o(102,173),new o(105,165),new o(107,160),new o(109,158),new o(112,151),new o(115,144),new o(117,139),new o(119,136),new o(119,134),new o(120,132),new o(121,129),new o(122,127),new o(124,125),new o(126,124),new o(129,125),new o(131,127),new o(132,130),new o(136,139),new o(141,154),new o(145,166),new o(151,182),new o(156,193),new o(157,196),new o(161,209),new o(162,211),new o(167,223),new o(169,229),new o(170,231),new o(173,237),new o(176,242),new o(177,244),new o(179,250),new o(181,255),new o(182,257))),this.Unistrokes[6]=new r("zig-zag",new Array(new o(307,216),new o(333,186),new o(356,215),new o(375,186),new o(399,216),new o(418,186))),this.Unistrokes[7]=new r("arrow",new Array(new o(68,222),new o(70,220),new o(73,218),new o(75,217),new o(77,215),new o(80,213),new o(82,212),new o(84,210),new o(87,209),new o(89,208),new o(92,206),new o(95,204),new o(101,201),new o(106,198),new o(112,194),new o(118,191),new o(124,187),new o(127,186),new o(132,183),new o(138,181),new o(141,180),new o(146,178),new o(154,173),new o(159,171),new o(161,170),new o(166,167),new o(168,167),new o(171,166),new o(174,164),new o(177,162),new o(180,160),new o(182,158),new o(183,156),new o(181,154),new o(178,153),new o(171,153),new o(164,153),new o(160,153),new o(150,154),new o(147,155),new o(141,157),new o(137,158),new o(135,158),new o(137,158),new o(140,157),new o(143,156),new o(151,154),new o(160,152),new o(170,149),new o(179,147),new o(185,145),new o(192,144),new o(196,144),new o(198,144),new o(200,144),new o(201,147),new o(199,149),new o(194,157),new o(191,160),new o(186,167),new o(180,176),new o(177,179),new o(171,187),new o(169,189),new o(165,194),new o(164,196))),this.Unistrokes[8]=new r("left square bracket",new Array(new o(140,124),new o(138,123),new o(135,122),new o(133,123),new o(130,123),new o(128,124),new o(125,125),new o(122,124),new o(120,124),new o(118,124),new o(116,125),new o(113,125),new o(111,125),new o(108,124),new o(106,125),new o(104,125),new o(102,124),new o(100,123),new o(98,123),new o(95,124),new o(93,123),new o(90,124),new o(88,124),new o(85,125),new o(83,126),new o(81,127),new o(81,129),new o(82,131),new o(82,134),new o(83,138),new o(84,141),new o(84,144),new o(85,148),new o(85,151),new o(86,156),new o(86,160),new o(86,164),new o(86,168),new o(87,171),new o(87,175),new o(87,179),new o(87,182),new o(87,186),new o(88,188),new o(88,195),new o(88,198),new o(88,201),new o(88,207),new o(89,211),new o(89,213),new o(89,217),new o(89,222),new o(88,225),new o(88,229),new o(88,231),new o(88,233),new o(88,235),new o(89,237),new o(89,240),new o(89,242),new o(91,241),new o(94,241),new o(96,240),new o(98,239),new o(105,240),new o(109,240),new o(113,239),new o(116,240),new o(121,239),new o(130,240),new o(136,237),new o(139,237),new o(144,238),new o(151,237),new o(157,236),new o(159,237))),this.Unistrokes[9]=new r("right square bracket",new Array(new o(112,138),new o(112,136),new o(115,136),new o(118,137),new o(120,136),new o(123,136),new o(125,136),new o(128,136),new o(131,136),new o(134,135),new o(137,135),new o(140,134),new o(143,133),new o(145,132),new o(147,132),new o(149,132),new o(152,132),new o(153,134),new o(154,137),new o(155,141),new o(156,144),new o(157,152),new o(158,161),new o(160,170),new o(162,182),new o(164,192),new o(166,200),new o(167,209),new o(168,214),new o(168,216),new o(169,221),new o(169,223),new o(169,228),new o(169,231),new o(166,233),new o(164,234),new o(161,235),new o(155,236),new o(147,235),new o(140,233),new o(131,233),new o(124,233),new o(117,235),new o(114,238),new o(112,238))),this.Unistrokes[10]=new r("v",new Array(new o(89,164),new o(90,162),new o(92,162),new o(94,164),new o(95,166),new o(96,169),new o(97,171),new o(99,175),new o(101,178),new o(103,182),new o(106,189),new o(108,194),new o(111,199),new o(114,204),new o(117,209),new o(119,214),new o(122,218),new o(124,222),new o(126,225),new o(128,228),new o(130,229),new o(133,233),new o(134,236),new o(136,239),new o(138,240),new o(139,242),new o(140,244),new o(142,242),new o(142,240),new o(142,237),new o(143,235),new o(143,233),new o(145,229),new o(146,226),new o(148,217),new o(149,208),new o(149,205),new o(151,196),new o(151,193),new o(153,182),new o(155,172),new o(157,165),new o(159,160),new o(162,155),new o(164,150),new o(165,148),new o(166,146))),this.Unistrokes[11]=new r("delete",new Array(new o(123,129),new o(123,131),new o(124,133),new o(125,136),new o(127,140),new o(129,142),new o(133,148),new o(137,154),new o(143,158),new o(145,161),new o(148,164),new o(153,170),new o(158,176),new o(160,178),new o(164,183),new o(168,188),new o(171,191),new o(175,196),new o(178,200),new o(180,202),new o(181,205),new o(184,208),new o(186,210),new o(187,213),new o(188,215),new o(186,212),new o(183,211),new o(177,208),new o(169,206),new o(162,205),new o(154,207),new o(145,209),new o(137,210),new o(129,214),new o(122,217),new o(118,218),new o(111,221),new o(109,222),new o(110,219),new o(112,217),new o(118,209),new o(120,207),new o(128,196),new o(135,187),new o(138,183),new o(148,167),new o(157,153),new o(163,145),new o(165,142),new o(172,133),new o(177,127),new o(179,127),new o(180,125))),this.Unistrokes[12]=new r("left curly brace",new Array(new o(150,116),new o(147,117),new o(145,116),new o(142,116),new o(139,117),new o(136,117),new o(133,118),new o(129,121),new o(126,122),new o(123,123),new o(120,125),new o(118,127),new o(115,128),new o(113,129),new o(112,131),new o(113,134),new o(115,134),new o(117,135),new o(120,135),new o(123,137),new o(126,138),new o(129,140),new o(135,143),new o(137,144),new o(139,147),new o(141,149),new o(140,152),new o(139,155),new o(134,159),new o(131,161),new o(124,166),new o(121,166),new o(117,166),new o(114,167),new o(112,166),new o(114,164),new o(116,163),new o(118,163),new o(120,162),new o(122,163),new o(125,164),new o(127,165),new o(129,166),new o(130,168),new o(129,171),new o(127,175),new o(125,179),new o(123,184),new o(121,190),new o(120,194),new o(119,199),new o(120,202),new o(123,207),new o(127,211),new o(133,215),new o(142,219),new o(148,220),new o(151,221))),this.Unistrokes[13]=new r("right curly brace",new Array(new o(117,132),new o(115,132),new o(115,129),new o(117,129),new o(119,128),new o(122,127),new o(125,127),new o(127,127),new o(130,127),new o(133,129),new o(136,129),new o(138,130),new o(140,131),new o(143,134),new o(144,136),new o(145,139),new o(145,142),new o(145,145),new o(145,147),new o(145,149),new o(144,152),new o(142,157),new o(141,160),new o(139,163),new o(137,166),new o(135,167),new o(133,169),new o(131,172),new o(128,173),new o(126,176),new o(125,178),new o(125,180),new o(125,182),new o(126,184),new o(128,187),new o(130,187),new o(132,188),new o(135,189),new o(140,189),new o(145,189),new o(150,187),new o(155,186),new o(157,185),new o(159,184),new o(156,185),new o(154,185),new o(149,185),new o(145,187),new o(141,188),new o(136,191),new o(134,191),new o(131,192),new o(129,193),new o(129,195),new o(129,197),new o(131,200),new o(133,202),new o(136,206),new o(139,211),new o(142,215),new o(145,220),new o(147,225),new o(148,231),new o(147,239),new o(144,244),new o(139,248),new o(134,250),new o(126,253),new o(119,253),new o(115,253))),this.Unistrokes[14]=new r("star",new Array(new o(75,250),new o(75,247),new o(77,244),new o(78,242),new o(79,239),new o(80,237),new o(82,234),new o(82,232),new o(84,229),new o(85,225),new o(87,222),new o(88,219),new o(89,216),new o(91,212),new o(92,208),new o(94,204),new o(95,201),new o(96,196),new o(97,194),new o(98,191),new o(100,185),new o(102,178),new o(104,173),new o(104,171),new o(105,164),new o(106,158),new o(107,156),new o(107,152),new o(108,145),new o(109,141),new o(110,139),new o(112,133),new o(113,131),new o(116,127),new o(117,125),new o(119,122),new o(121,121),new o(123,120),new o(125,122),new o(125,125),new o(127,130),new o(128,133),new o(131,143),new o(136,153),new o(140,163),new o(144,172),new o(145,175),new o(151,189),new o(156,201),new o(161,213),new o(166,225),new o(169,233),new o(171,236),new o(174,243),new o(177,247),new o(178,249),new o(179,251),new o(180,253),new o(180,255),new o(179,257),new o(177,257),new o(174,255),new o(169,250),new o(164,247),new o(160,245),new o(149,238),new o(138,230),new o(127,221),new o(124,220),new o(112,212),new o(110,210),new o(96,201),new o(84,195),new o(74,190),new o(64,182),new o(55,175),new o(51,172),new o(49,170),new o(51,169),new o(56,169),new o(66,169),new o(78,168),new o(92,166),new o(107,164),new o(123,161),new o(140,162),new o(156,162),new o(171,160),new o(173,160),new o(186,160),new o(195,160),new o(198,161),new o(203,163),new o(208,163),new o(206,164),new o(200,167),new o(187,172),new o(174,179),new o(172,181),new o(153,192),new o(137,201),new o(123,211),new o(112,220),new o(99,229),new o(90,237),new o(80,244),new o(73,250),new o(69,254),new o(69,252))),this.Unistrokes[15]=new r("pigtail",new Array(new o(81,219),new o(84,218),new o(86,220),new o(88,220),new o(90,220),new o(92,219),new o(95,220),new o(97,219),new o(99,220),new o(102,218),new o(105,217),new o(107,216),new o(110,216),new o(113,214),new o(116,212),new o(118,210),new o(121,208),new o(124,205),new o(126,202),new o(129,199),new o(132,196),new o(136,191),new o(139,187),new o(142,182),new o(144,179),new o(146,174),new o(148,170),new o(149,168),new o(151,162),new o(152,160),new o(152,157),new o(152,155),new o(152,151),new o(152,149),new o(152,146),new o(149,142),new o(148,139),new o(145,137),new o(141,135),new o(139,135),new o(134,136),new o(130,140),new o(128,142),new o(126,145),new o(122,150),new o(119,158),new o(117,163),new o(115,170),new o(114,175),new o(117,184),new o(120,190),new o(125,199),new o(129,203),new o(133,208),new o(138,213),new o(145,215),new o(155,218),new o(164,219),new o(166,219),new o(177,219),new o(182,218),new o(192,216),new o(196,213),new o(199,212),new o(201,211))),this.Recognize=function(e,t){for(var n=Date.now(),o=new r("",e),i=-1,c=1/0,a=0;a<this.Unistrokes.length;a++){var u;(u=t?b(this.Unistrokes[a].Vector,o.Vector):M(o.Points,this.Unistrokes[a],-w,+w,p))<c&&(c=u,i=a)}var h=Date.now();return-1==i?new s("No match.",0,h-n):new s(this.Unistrokes[i].Name,t?1-c:1-c/l,h-n)},this.AddGesture=function(e,t){this.Unistrokes[this.Unistrokes.length]=new r(e,t);for(var n=0,o=0;o<this.Unistrokes.length;o++)this.Unistrokes[o].Name==e&&n++;return n},this.DeleteUserGestures=function(){return this.Unistrokes.length=c,c}};var o=n.Point=o;cc._RF.pop()},{}]},{},["A_star_1.0","A_star_2.0","BinaryHeap","gusture","EventManager","G","IEventManager","IResourceManager","ITimerManager","ResourceManager","SceneManager","TimerManager","AudioUtils","DiviceUtils","DragBoneUtils","EffectUtils","GameUtils","GustureUtils","KeyCode","LogUtils","MathUtils","RewriteEngine","SlayArrow","SystemUtils","Arrow_Demo","GustureComponent","TypeWriterComponent","Typewriter_Demo","GameMap","RoleMgr","Launcher","Maze","SceneConfig","SceneCtrl"]);